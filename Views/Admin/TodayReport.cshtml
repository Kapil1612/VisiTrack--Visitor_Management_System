@model VisiTrack.Models.ViewModel.ReportViewModel

@{
    ViewData["Title"] = "Today Report";
}

<div class="d-flex justify-content-between align-items-center">
    <h3>Daily Visitor Report</h3>
    <div class="justify-content-end">
        <a asp-controller="Admin" asp-action="GenerateDailyPdf"
           class="btn btn-danger btn-sm ">
            Download Report PDF      
        </a>

    <a asp-action="Dashboard" class="btn btn-sm btn-outline-primary align-self-center">Back to Dashboard</a>
    </div>
</div>
<hr style="margin-top:8px; margin-bottom:8px;" />

@if (Model?.DailyReport != null && Model.DailyReport.Any())
{
    
    <h4 class="text-primary mt-3 mb-3">📆 [ @DateTime.Today.ToLongDateString() ]</h4>
      <p class="text-muted ms-2">  @Model.DailyCount Records Found</p>
    <table class="table mt-3 table-bordered table-striped table-hover">
        <thead>
            <tr>
                <th>Visit ID</th>
                <th>Visitor Name</th>
                <th>Company</th>
                <th>Host Name</th>
                <th>Purpose</th>
                <th>Check-In Time</th>
                <th>Check-Out Time</th>
                <th>Duration</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var visit in Model.DailyReport)
            {
                <tr>
                    <td>@visit.VisitID</td>
                    <td>@visit.VisitorName</td>
                    <td>@visit.Company</td>
                    <td>@visit.HostName</td>
                    <td>@visit.Purpose</td>
                    <td>@(visit.CheckInTime?.ToString("dd-MM-yyyy hh:mm tt") ?? "N/A")</td>
                    <td>@(visit.CheckOutTime?.ToString("dd-MM-yyyy hh:mm tt") ?? "N/A")</td>
                    <td>@visit.Duration</td>
                    <td>@visit.Status</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p class="text-muted">No Record found for today.</p>
}
